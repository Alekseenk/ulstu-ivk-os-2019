#include <sys/types.h>
#include <unistd.h>
#include <stdio.h>
/*Задание: измените предыдущую программу с fork() так, чтобы роди-
тель и ребенок совершали разные действия (какие – не важно).*/
int main()
{

    printf("Лабораторная работа №3.2\n");
	printf("Управление процессами\n");
	printf("Выполнил студент группы ИСТбд-22 Каяшов П.А.\n");
	printf("Пример создания нового процесса с различной работой процессов ребёнка и родителя\n");

	pid_t id, pid, ppid;///Тип данных pid_t является синонимом для одного из целочисленных типов языка C.
	id = fork();///При успешном создании нового процесса с этого места псевдопараллельно
                ///начинают работать два процесса: старый и новый
	pid = getpid();/// получение значения идентификатора текущего процесса
	ppid = getppid();///получение значения идентификатора родительского процесса для текущего процесса
	if (id == -1)
	     printf("ERROR!\n");
	else if (id == 0)
	     printf("My pid = %d, my ppid = %d, it's daughter process\n", (int)pid, (int)ppid);
	else
        for (a = 0; a < 10 ; a++)
	{
		printf("My pid = %d, my ppid = %d, it's parent process\n", (int)pid, (int)ppid);
	}

	return 0;
}
